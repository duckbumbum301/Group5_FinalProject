<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>H·ªì s∆° ‚Äî V·ª±a Vui V·∫ª</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Trang: Profile (gi·ªØ b·ªë c·ª•c b√¨nh th∆∞·ªùng, kh√¥ng cƒÉn gi·ªØa d·ªçc) -->
    <header class="topbar">
      <strong>üë§ H·ªì s∆° kh√°ch h√†ng</strong>
      <span class="right"></span>
      <button id="btnLogout" class="btn btn-danger">ƒêƒÉng xu·∫•t</button>

      <a class="btn btn-ghost" href="../html/index.html">Front Store</a>
    </header>

    <div class="spacer"></div>

    <main class="page">
      <!-- Ch·ª©c nƒÉng: Hi·ªÉn th·ªã th√¥ng tin t√†i kho·∫£n ƒëang ƒëƒÉng nh·∫≠p -->
      <section class="card">
        <h2>Th√¥ng tin t√†i kho·∫£n</h2>
        <div id="profile"></div>
      </section>
    </main>

    <!-- Core auth d√πng chung -->
    <script src="auth.js"></script>
    <script>
      /* ƒêi·ªÅu h∆∞·ªõng: n·∫øu ch∆∞a ƒëƒÉng nh·∫≠p -> v·ªÅ login */
      const s = getSession();
      if (!s) {
        go("login.html");
      }

      /* Render b·∫£ng th√¥ng tin */
      const name = s?.name || "(Ch∆∞a ƒë·∫∑t t√™n)";
      const email = s?.email || "";
      const phone = s?.phone || "";
      const dob = s?.dob || "";

      document.getElementById("profile").innerHTML = `
      <table class="table">
        <thead><tr><th>Tr∆∞·ªùng</th><th>Gi√° tr·ªã</th></tr></thead>
        <tbody>
          <tr><td>T√™n</td><td><strong>${name}</strong></td></tr>
          <tr><td>Email</td><td>${email}</td></tr>
          <tr><td>S·ªë ƒëi·ªán tho·∫°i</td><td>${phone}</td></tr>
          <tr><td>Ng√†y sinh</td><td>${dob}</td></tr>
        </tbody>
      </table>
    `;

      /* Ch·ª©c nƒÉng: ƒêƒÉng xu·∫•t */
      document.getElementById("btnLogout").addEventListener("click", () => {
        clearSession();
        go("login.html");
      });
    </script>
  </body>
</html>
